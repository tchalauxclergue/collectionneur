% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bibliothecaire.R
\name{bibliothecaire}
\alias{bibliothecaire}
\title{La Bibliothecaire: Update a Database with New Column Headers and Generate a Report}
\usage{
bibliothecaire(
  database,
  additions,
  method = "jw",
  save.updates = TRUE,
  save.report = TRUE,
  return.report = FALSE,
  save.dir,
  database.label,
  note,
  na = "",
  fileEncoding = "latin1"
)
}
\arguments{
\item{database}{A data frame representing the existing database.}

\item{additions}{A data frame containing new data to be integrated into the database.}

\item{method}{A string indicating the string distance method used for column name matching. Defaults to "jw" (Jaro-Winkler).}

\item{save.report}{Logical. If `TRUE`, a report summarizing the updates will be saved. Default is `TRUE`.}

\item{return.report}{Logical. If `TRUE`, the report is included in the function output. Default is `TRUE`.}

\item{save.dir}{Character. Optional directory path for saving the report. Required if `save.report = TRUE`.}

\item{database.label}{Character. Label for the database, used for naming output files.}

\item{note}{Character. Optional additional note to append to the file and report file name.}

\item{na}{Character string, used for missing values in the data.= (default - "").}

\item{fileEncoding}{Character string, if non-empty declares the encoding to be used on a file (not a connection) so the character data can be re-encoded as they are written, "latin1" (default).}
}
\value{
A list containing:
- `database`: The updated database with integrated columns.
- `additions`: The input additions dataset (unchanged).
- `report`: A character vector containing the report (if `return.report = TRUE`).
}
\description{
This function updates a database by integrating new column headers from an 'additions' dataset.
It provides an interactive way to match, rename, or add new columns, and generates a detailed
report on the changes made.
}
\details{
The function proceeds as follows:
- Identifies new column headers in `additions` that are not present in `database`.
- Prompts the user to match new headers with existing ones in `database` (optional).
- Updates column names accordingly or adds them as new columns filled with `NA`.
- Allows the user to choose whether to maintain the column order from `additions`.
- Generates a detailed report documenting all modifications.

The function supports both automatic string similarity matching (via `stringdist`) and manual selection of column names.
}
\examples{
\dontrun{
db <- data.frame(A = 1:5, B = letters[1:5])
new.data <- data.frame(B = letters[1:5], C = 6:10)

result <- bibliothecaire(database = db, additions = new.data, save.report = FALSE)


}

}
\author{
Thomas Chalaux-Clergue
}
